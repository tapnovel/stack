{"version":3,"sources":["Header.tsx"],"names":["React","Animated","Image","Platform","StyleSheet","View","I18nManager","MaskedViewIOS","ThemeContext","ThemeColors","withOrientation","SafeAreaView","HeaderTitle","HeaderBackButton","ModularHeaderBackButton","HeaderStyleInterpolator","APPBAR_HEIGHT","select","ios","android","default","STATUSBAR_HEIGHT","TITLE_OFFSET_CENTER_ALIGN","TITLE_OFFSET_LEFT_ALIGN","getTitleOffsets","layoutPreset","hasLeftComponent","hasRightComponent","style","left","right","OS","undefined","getAppBarHeight","isLandscape","isPad","Header","state","widths","renderTitleComponent","props","options","scene","descriptor","headerTitle","isValidElement","titleString","getHeaderTitleString","titleStyle","headerTitleStyle","color","headerTintColor","allowFontScaling","headerTitleAllowFontScaling","onLayout","e","width","nativeEvent","layout","setState","key","HeaderTitleComponent","textAlign","renderLeftComponent","headerLeft","index","backButtonTitle","getBackButtonTitleString","truncatedBackButtonTitle","getTruncatedBackButtonTitle","initWidth","RenderedLeftComponent","goBack","requestAnimationFrame","navigation","headerPressColorAndroid","headerBackImage","backTitleVisible","headerBackAllowFontScaling","headerBackTitleStyle","renderModularLeftComponent","ButtonContainerComponent","LabelContainerComponent","renderRightComponent","headerRight","renderLeft","transitionPreset","headerLeftContainerStyle","renderSubView","leftInterpolator","renderModularSubView","leftLabelInterpolator","leftButtonInterpolator","renderTitle","justifyContent","headerTitleContainerStyle","titleFromLeftInterpolator","titleInterpolator","renderRight","headerRightContainerStyle","rightInterpolator","renderBackground","offset","Math","abs","absoluteFill","headerBackground","backgroundInterpolator","name","renderer","labelStyleInterpolator","buttonStyleInterpolator","isStale","ButtonContainer","children","LabelContainer","subView","pointerEvents","styles","item","styleInterpolator","renderHeader","header","title","wrapperProps","iconMaskContainer","require","iconMask","iconMaskFillerRect","scenes","find","s","lastScene","getLastScene","headerBackTitle","headerTruncatedBackTitle","appBar","background","mode","scenesByIndex","forEach","scenesProps","Object","values","map","position","headerProps","Value","headerStyle","headerStyleObj","flatten","appBarHeight","alignItems","flex","flexDirection","flexGrow","flexShrink","flexBasis","flexWrap","padding","paddingHorizontal","paddingRight","paddingLeft","top","bottom","safeHeaderStyle","isDark","context","containerStyles","headerTransparent","transparentContainerDark","transparentContainerLight","containerDark","containerLight","height","headerForceInset","forceInset","horizontal","backgroundColor","dark","light","layoutInterpolator","flexOne","PureComponent","contextType","defaultProps","forLayout","forLeft","forLeftButton","forLeftLabel","forCenterFromLeft","forCenter","forRight","forBackground","platformContainerStylesLight","elevation","web","boxShadow","borderBottomWidth","hairlineWidth","borderBottomColor","headerBorder","platformContainerStylesDark","create","absoluteFillObject","marginLeft","marginTop","alignSelf","resizeMode","transform","scaleX","isRTL","HEIGHT"],"mappings":"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","sourcesContent":["import * as React from 'react';\n\nimport {\n  Animated,\n  Image,\n  Platform,\n  StyleSheet,\n  View,\n  I18nManager,\n  MaskedViewIOS,\n  ViewStyle,\n  LayoutChangeEvent,\n  StyleProp,\n} from 'react-native';\n\nimport {\n  ThemeContext,\n  ThemeColors,\n  withOrientation,\n  SafeAreaView,\n} from 'react-navigation';\n\nimport HeaderTitle from './HeaderTitle';\nimport HeaderBackButton from './HeaderBackButton';\nimport ModularHeaderBackButton from './ModularHeaderBackButton';\nimport HeaderStyleInterpolator from './HeaderStyleInterpolator';\nimport {\n  Scene,\n  HeaderLayoutPreset,\n  SceneInterpolatorProps,\n  HeaderProps,\n} from '../../types';\n\ntype Props = HeaderProps & {\n  leftLabelInterpolator: (props: SceneInterpolatorProps) => any;\n  leftButtonInterpolator: (props: SceneInterpolatorProps) => any;\n  titleFromLeftInterpolator: (props: SceneInterpolatorProps) => any;\n  layoutInterpolator: (props: SceneInterpolatorProps) => any;\n  theme: string;\n};\n\ntype SubviewProps = {\n  position: Animated.AnimatedInterpolation;\n  scene: Scene;\n  style?: StyleProp<ViewStyle>;\n};\n\ntype SubviewName = 'left' | 'right' | 'title' | 'background';\n\ntype State = {\n  widths: { [key: string]: number };\n};\n\nconst APPBAR_HEIGHT = Platform.select({\n  ios: 44,\n  android: 56,\n  default: 64,\n});\nconst STATUSBAR_HEIGHT = Platform.select({\n  ios: 20,\n  default: 0,\n});\n\n// These can be adjusted by using headerTitleContainerStyle on navigationOptions\nconst TITLE_OFFSET_CENTER_ALIGN = Platform.select({\n  ios: 70,\n  default: 56,\n});\n\nconst TITLE_OFFSET_LEFT_ALIGN = Platform.select({\n  ios: 20,\n  android: 56,\n  default: 64,\n});\n\nconst getTitleOffsets = (\n  layoutPreset: HeaderLayoutPreset,\n  hasLeftComponent: boolean,\n  hasRightComponent: boolean\n): ViewStyle | undefined => {\n  if (layoutPreset === 'left') {\n    // Maybe at some point we should do something different if the back title is\n    // explicitly enabled, for now people can control it manually\n\n    let style = {\n      left: TITLE_OFFSET_LEFT_ALIGN,\n      right: TITLE_OFFSET_LEFT_ALIGN,\n    };\n\n    if (!hasLeftComponent) {\n      style.left = Platform.OS === 'web' ? 16 : 0;\n    }\n    if (!hasRightComponent) {\n      style.right = 0;\n    }\n\n    return style;\n  } else if (layoutPreset === 'center') {\n    let style = {\n      left: TITLE_OFFSET_CENTER_ALIGN,\n      right: TITLE_OFFSET_CENTER_ALIGN,\n    };\n    if (!hasLeftComponent && !hasRightComponent) {\n      style.left = 0;\n      style.right = 0;\n    }\n\n    return style;\n  }\n\n  return undefined;\n};\n\nconst getAppBarHeight = (isLandscape: boolean) => {\n  if (Platform.OS === 'ios') {\n    // @ts-ignore\n    if (isLandscape && !Platform.isPad) {\n      return 32;\n    } else {\n      return 44;\n    }\n  } else if (Platform.OS === 'android') {\n    return 56;\n  } else {\n    return 64;\n  }\n};\n\nclass Header extends React.PureComponent<Props, State> {\n  static contextType = ThemeContext;\n\n  context!: React.ContextType<typeof ThemeContext>;\n\n  static defaultProps = {\n    layoutInterpolator: HeaderStyleInterpolator.forLayout,\n    leftInterpolator: HeaderStyleInterpolator.forLeft,\n    leftButtonInterpolator: HeaderStyleInterpolator.forLeftButton,\n    leftLabelInterpolator: HeaderStyleInterpolator.forLeftLabel,\n    titleFromLeftInterpolator: HeaderStyleInterpolator.forCenterFromLeft,\n    titleInterpolator: HeaderStyleInterpolator.forCenter,\n    rightInterpolator: HeaderStyleInterpolator.forRight,\n    backgroundInterpolator: HeaderStyleInterpolator.forBackground,\n  };\n\n  state: State = {\n    widths: {},\n  };\n\n  private getHeaderTitleString(scene: Scene) {\n    const options = scene.descriptor.options;\n    if (typeof options.headerTitle === 'string') {\n      return options.headerTitle;\n    }\n\n    return options.title;\n  }\n\n  private getLastScene(scene: Scene) {\n    return this.props.scenes.find(s => s.index === scene.index - 1);\n  }\n\n  private getBackButtonTitleString(scene: Scene) {\n    const lastScene = this.getLastScene(scene);\n    if (!lastScene) {\n      return null;\n    }\n    const { headerBackTitle } = lastScene.descriptor.options;\n    if (headerBackTitle || headerBackTitle === null) {\n      return headerBackTitle;\n    }\n    return this.getHeaderTitleString(lastScene);\n  }\n\n  private getTruncatedBackButtonTitle(scene: Scene) {\n    const lastScene = this.getLastScene(scene);\n    if (!lastScene) {\n      return null;\n    }\n    return lastScene.descriptor.options.headerTruncatedBackTitle;\n  }\n\n  private renderTitleComponent = (props: SubviewProps) => {\n    const { layoutPreset } = this.props;\n    const { options } = props.scene.descriptor;\n    const headerTitle = options.headerTitle;\n    if (React.isValidElement(headerTitle)) {\n      return headerTitle;\n    }\n    const titleString = this.getHeaderTitleString(props.scene);\n\n    const titleStyle = options.headerTitleStyle;\n    const color = options.headerTintColor;\n    const allowFontScaling = options.headerTitleAllowFontScaling;\n\n    // When title is centered, the width of left/right components depends on the\n    // calculated size of the title.\n    const onLayout =\n      layoutPreset === 'center'\n        ? (e: LayoutChangeEvent) => {\n            const { width } = e.nativeEvent.layout;\n\n            this.setState(state => ({\n              widths: {\n                ...state.widths,\n                [props.scene.key]: width,\n              },\n            }));\n          }\n        : undefined;\n\n    const HeaderTitleComponent =\n      headerTitle && typeof headerTitle !== 'string'\n        ? headerTitle\n        : HeaderTitle;\n    return (\n      <HeaderTitleComponent\n        onLayout={onLayout}\n        allowFontScaling={!!allowFontScaling}\n        style={[\n          color ? { color } : null,\n          layoutPreset === 'center'\n            ? // eslint-disable-next-line react-native/no-inline-styles\n              { textAlign: 'center' }\n            : // eslint-disable-next-line react-native/no-inline-styles\n              { textAlign: 'left' },\n          titleStyle,\n        ]}\n      >\n        {titleString}\n      </HeaderTitleComponent>\n    );\n  };\n\n  private renderLeftComponent = (props: SubviewProps) => {\n    const { options } = props.scene.descriptor;\n    if (\n      React.isValidElement(options.headerLeft) ||\n      options.headerLeft === null\n    ) {\n      return options.headerLeft;\n    }\n\n    if (!options.headerLeft && props.scene.index === 0) {\n      return;\n    }\n\n    const backButtonTitle = this.getBackButtonTitleString(props.scene);\n    const truncatedBackButtonTitle = this.getTruncatedBackButtonTitle(\n      props.scene\n    );\n    const width = this.state.widths[props.scene.key]\n      ? (this.props.layout.initWidth - this.state.widths[props.scene.key]) / 2\n      : undefined;\n    const RenderedLeftComponent = options.headerLeft || HeaderBackButton;\n    const goBack = () => {\n      // Go back on next tick because button ripple effect needs to happen on Android\n      requestAnimationFrame(() => {\n        props.scene.descriptor.navigation.goBack(props.scene.descriptor.key);\n      });\n    };\n\n    return (\n      <RenderedLeftComponent\n        onPress={goBack}\n        pressColorAndroid={options.headerPressColorAndroid}\n        tintColor={options.headerTintColor}\n        backImage={options.headerBackImage}\n        title={backButtonTitle}\n        truncatedTitle={truncatedBackButtonTitle}\n        backTitleVisible={this.props.backTitleVisible}\n        allowFontScaling={options.headerBackAllowFontScaling}\n        titleStyle={options.headerBackTitleStyle}\n        layoutPreset={this.props.layoutPreset}\n        width={width}\n        scene={props.scene}\n      />\n    );\n  };\n\n  private renderModularLeftComponent = (\n    props: SubviewProps,\n    ButtonContainerComponent: React.ComponentProps<\n      typeof ModularHeaderBackButton\n    >['ButtonContainerComponent'],\n    LabelContainerComponent: React.ComponentProps<\n      typeof ModularHeaderBackButton\n    >['LabelContainerComponent']\n  ) => {\n    const { options, navigation } = props.scene.descriptor;\n    const backButtonTitle = this.getBackButtonTitleString(props.scene);\n    const truncatedBackButtonTitle = this.getTruncatedBackButtonTitle(\n      props.scene\n    );\n    const width = this.state.widths[props.scene.key]\n      ? (this.props.layout.initWidth - this.state.widths[props.scene.key]) / 2\n      : undefined;\n\n    const goBack = () => {\n      // Go back on next tick because button ripple effect needs to happen on Android\n      requestAnimationFrame(() => {\n        navigation.goBack(props.scene.descriptor.key);\n      });\n    };\n\n    return (\n      <ModularHeaderBackButton\n        onPress={goBack}\n        ButtonContainerComponent={ButtonContainerComponent}\n        LabelContainerComponent={LabelContainerComponent}\n        backTitleVisible={this.props.backTitleVisible}\n        pressColorAndroid={options.headerPressColorAndroid}\n        tintColor={options.headerTintColor}\n        backImage={options.headerBackImage}\n        title={backButtonTitle}\n        truncatedTitle={truncatedBackButtonTitle}\n        titleStyle={options.headerBackTitleStyle}\n        layoutPreset={this.props.layoutPreset}\n        width={width}\n        scene={props.scene}\n      />\n    );\n  };\n\n  private renderRightComponent = (props: SubviewProps) => {\n    const { headerRight } = props.scene.descriptor.options;\n    return headerRight || null;\n  };\n\n  private renderLeft = (props: SubviewProps) => {\n    const { options } = props.scene.descriptor;\n\n    const { transitionPreset } = this.props;\n\n    let { style } = props;\n    if (options.headerLeftContainerStyle) {\n      style = [style, options.headerLeftContainerStyle];\n    }\n\n    // On Android, or if we have a custom header left, or if we have a custom back image, we\n    // do not use the modular header (which is the one that imitates UINavigationController)\n    if (\n      transitionPreset !== 'uikit' ||\n      options.headerBackImage ||\n      options.headerLeft ||\n      options.headerLeft === null\n    ) {\n      return this.renderSubView(\n        { ...props, style },\n        'left',\n        this.renderLeftComponent,\n        this.props.leftInterpolator\n      );\n    } else {\n      return this.renderModularSubView(\n        { ...props, style },\n        'left',\n        this.renderModularLeftComponent,\n        this.props.leftLabelInterpolator,\n        this.props.leftButtonInterpolator\n      );\n    }\n  };\n\n  private renderTitle = (\n    props: SubviewProps,\n    options: {\n      hasLeftComponent: boolean;\n      hasRightComponent: boolean;\n      headerTitleContainerStyle: StyleProp<ViewStyle>;\n    }\n  ) => {\n    const { layoutPreset, transitionPreset } = this.props;\n    let style: StyleProp<ViewStyle> = [\n      { justifyContent: layoutPreset === 'center' ? 'center' : 'flex-start' },\n      getTitleOffsets(\n        layoutPreset,\n        options.hasLeftComponent,\n        options.hasRightComponent\n      ),\n      options.headerTitleContainerStyle,\n    ];\n\n    return this.renderSubView(\n      { ...props, style },\n      'title',\n      this.renderTitleComponent,\n      transitionPreset === 'uikit'\n        ? this.props.titleFromLeftInterpolator\n        : this.props.titleInterpolator\n    );\n  };\n\n  private renderRight = (props: SubviewProps) => {\n    const { options } = props.scene.descriptor;\n\n    let { style } = props;\n    if (options.headerRightContainerStyle) {\n      style = [style, options.headerRightContainerStyle];\n    }\n\n    return this.renderSubView(\n      { ...props, style },\n      'right',\n      this.renderRightComponent,\n      this.props.rightInterpolator\n    );\n  };\n\n  private renderBackground = (props: SubviewProps) => {\n    const {\n      index,\n      descriptor: { options },\n    } = props.scene;\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    return this.renderSubView(\n      { ...props, style: StyleSheet.absoluteFill },\n      'background',\n      () => options.headerBackground,\n      this.props.backgroundInterpolator\n    );\n  };\n\n  private renderModularSubView = (\n    props: SubviewProps,\n    name: SubviewName,\n    renderer: (\n      props: SubviewProps,\n      ButtonContainerComponent: React.ComponentProps<\n        typeof ModularHeaderBackButton\n      >['ButtonContainerComponent'],\n      LabelContainerComponent: React.ComponentProps<\n        typeof ModularHeaderBackButton\n      >['LabelContainerComponent']\n    ) => React.ReactNode,\n    labelStyleInterpolator: (props: SceneInterpolatorProps) => any,\n    buttonStyleInterpolator: (props: SceneInterpolatorProps) => any\n  ) => {\n    const { scene } = props;\n    const { index, isStale, key } = scene;\n\n    // Never render a modular back button on the first screen in a stack.\n    if (index === 0) {\n      return;\n    }\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    const ButtonContainer = ({ children }: { children: React.ReactNode }) => (\n      <Animated.View\n        style={[buttonStyleInterpolator({ ...this.props, ...props })]}\n      >\n        {children}\n      </Animated.View>\n    );\n\n    const LabelContainer = ({ children }: { children: React.ReactNode }) => (\n      <Animated.View\n        style={[labelStyleInterpolator({ ...this.props, ...props })]}\n      >\n        {children}\n      </Animated.View>\n    );\n\n    const subView = renderer(\n      props,\n      ButtonContainer as any,\n      LabelContainer as any\n    );\n\n    if (subView === null) {\n      return subView;\n    }\n\n    const pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n\n    return (\n      <View\n        key={`${name}_${key}`}\n        pointerEvents={pointerEvents}\n        style={[styles.item, styles[name], props.style]}\n      >\n        {subView}\n      </View>\n    );\n  };\n\n  private renderSubView = (\n    props: SubviewProps,\n    name: SubviewName,\n    renderer: (props: SubviewProps) => React.ReactNode,\n    styleInterpolator?: (props: SceneInterpolatorProps) => any\n  ) => {\n    const { scene } = props;\n    const { index, isStale, key } = scene;\n\n    const offset = this.props.navigation.state.index - index;\n\n    if (Math.abs(offset) > 2) {\n      // Scene is far away from the active scene. Hides it to avoid unnecessary\n      // rendering.\n      return null;\n    }\n\n    const subView = renderer(props);\n\n    if (subView == null) {\n      return null;\n    }\n\n    const pointerEvents = offset !== 0 || isStale ? 'none' : 'box-none';\n\n    return (\n      <Animated.View\n        pointerEvents={pointerEvents}\n        key={`${name}_${key}`}\n        style={[\n          styles.item,\n          styles[name],\n          props.style,\n          styleInterpolator &&\n            styleInterpolator({\n              ...this.props,\n              ...props,\n            }),\n        ]}\n      >\n        {subView}\n      </Animated.View>\n    );\n  };\n\n  private renderHeader = (props: SubviewProps) => {\n    const { options } = props.scene.descriptor;\n    if (options.header === null) {\n      return null;\n    }\n    const left = this.renderLeft(props);\n    const right = this.renderRight(props);\n    const title = this.renderTitle(props, {\n      hasLeftComponent: !!left,\n      hasRightComponent: !!right,\n      headerTitleContainerStyle: options.headerTitleContainerStyle,\n    });\n\n    const { transitionPreset } = this.props;\n\n    const wrapperProps = {\n      style: styles.header,\n      key: `scene_${props.scene.key}`,\n    };\n\n    if (\n      options.headerLeft ||\n      options.headerBackImage ||\n      Platform.OS !== 'ios' ||\n      transitionPreset !== 'uikit'\n    ) {\n      return (\n        <View {...wrapperProps}>\n          {title}\n          {left}\n          {right}\n        </View>\n      );\n    } else {\n      return (\n        <MaskedViewIOS\n          {...wrapperProps}\n          maskElement={\n            <View style={styles.iconMaskContainer}>\n              <Image\n                source={require('../assets/back-icon-mask.png')}\n                style={styles.iconMask}\n              />\n              <View style={styles.iconMaskFillerRect} />\n            </View>\n          }\n        >\n          {title}\n          {left}\n          {right}\n        </MaskedViewIOS>\n      );\n    }\n  };\n\n  render() {\n    let appBar;\n    let background;\n    const { mode, scene, isLandscape } = this.props;\n\n    if (mode === 'float') {\n      const scenesByIndex: { [key: string]: Scene } = {};\n      this.props.scenes.forEach(scene => {\n        scenesByIndex[scene.index] = scene;\n      });\n      const scenesProps = Object.values(scenesByIndex).map(scene => ({\n        position: this.props.position,\n        scene,\n      }));\n      appBar = scenesProps.map(props => this.renderHeader(props));\n      background = scenesProps.map(props => this.renderBackground(props));\n    } else {\n      const headerProps = {\n        position: new Animated.Value(this.props.scene.index),\n        scene: this.props.scene,\n      };\n\n      appBar = this.renderHeader(headerProps);\n      background = this.renderBackground(headerProps);\n    }\n\n    const { options } = scene.descriptor;\n    const { headerStyle = {} } = options;\n    const headerStyleObj = StyleSheet.flatten(headerStyle) as ViewStyle;\n    const appBarHeight = getAppBarHeight(isLandscape);\n\n    const {\n      alignItems,\n      justifyContent,\n      flex,\n      flexDirection,\n      flexGrow,\n      flexShrink,\n      flexBasis,\n      flexWrap,\n      position,\n      padding,\n      paddingHorizontal,\n      paddingRight,\n      paddingLeft,\n      // paddingVertical,\n      // paddingTop,\n      // paddingBottom,\n      top,\n      right,\n      bottom,\n      left,\n      ...safeHeaderStyle\n    } = headerStyleObj;\n\n    let isDark = this.context === 'dark';\n\n    // TODO: warn if any unsafe styles are provided\n    const containerStyles = [\n      options.headerTransparent\n        ? isDark\n          ? styles.transparentContainerDark\n          : styles.transparentContainerLight\n        : isDark\n        ? styles.containerDark\n        : styles.containerLight,\n      { height: appBarHeight },\n      safeHeaderStyle,\n    ];\n\n    const { headerForceInset } = options;\n    const forceInset = headerForceInset || {\n      top: 'always',\n      bottom: 'never',\n      horizontal: 'always',\n    };\n\n    let backgroundColor = safeHeaderStyle.backgroundColor;\n\n    if (!backgroundColor) {\n      backgroundColor = isDark\n        ? ThemeColors.dark.header\n        : ThemeColors.light.header;\n    }\n\n    return (\n      <Animated.View\n        style={[\n          this.props.layoutInterpolator(this.props),\n          Platform.OS === 'ios' && !options.headerTransparent\n            ? { backgroundColor }\n            : null,\n        ]}\n      >\n        <SafeAreaView forceInset={forceInset} style={containerStyles}>\n          {background}\n          <View style={styles.flexOne}>{appBar}</View>\n        </SafeAreaView>\n      </Animated.View>\n    );\n  }\n}\n\nconst platformContainerStylesLight = Platform.select({\n  android: {\n    elevation: 4,\n  },\n  web: {\n    // https://github.com/necolas/react-native-web/issues/44\n    // Material Design\n    boxShadow: `0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12)`,\n  },\n  default: {\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: ThemeColors.light.headerBorder,\n  },\n});\n\nconst platformContainerStylesDark = Platform.select({\n  android: {\n    elevation: 4,\n  },\n  web: {\n    // https://github.com/necolas/react-native-web/issues/44\n    // Material Design\n    // TODO: what to use here?\n    boxShadow: `0 2px 4px -1px rgba(0,0,0,0.2), 0 4px 5px 0 rgba(0,0,0,0.14), 0 1px 10px 0 rgba(0,0,0,0.12)`,\n  },\n  default: {\n    borderBottomWidth: StyleSheet.hairlineWidth,\n    borderBottomColor: ThemeColors.dark.headerBorder,\n  },\n});\n\nconst styles = StyleSheet.create({\n  containerLight: {\n    ...platformContainerStylesLight,\n    backgroundColor: ThemeColors.light.header,\n  },\n  containerDark: {\n    ...platformContainerStylesDark,\n    backgroundColor: ThemeColors.dark.header,\n  },\n  transparentContainerLight: {\n    ...platformContainerStylesLight,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    borderBottomWidth: 0,\n    borderBottomColor: 'transparent',\n    elevation: 0,\n  },\n  transparentContainerDark: {\n    ...platformContainerStylesDark,\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    right: 0,\n    borderBottomWidth: 0,\n    borderBottomColor: 'transparent',\n    elevation: 0,\n  },\n  header: {\n    ...StyleSheet.absoluteFillObject,\n    flexDirection: 'row',\n  },\n  item: {\n    backgroundColor: 'transparent',\n  },\n  iconMaskContainer: {\n    flex: 1,\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  iconMaskFillerRect: {\n    flex: 1,\n    backgroundColor: '#d8d8d8',\n    marginLeft: -5,\n  },\n  iconMask: {\n    // These are mostly the same as the icon in ModularHeaderBackButton\n    height: 23,\n    width: 14.5,\n    marginLeft: 8.5,\n    marginTop: -2.5,\n    alignSelf: 'center',\n    resizeMode: 'contain',\n    transform: [{ scaleX: I18nManager.isRTL ? -1 : 1 }],\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  background: {},\n  // eslint-disable-next-line react-native/no-unused-styles\n  title: {\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row',\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  left: {\n    left: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    alignItems: 'center',\n    flexDirection: 'row',\n  },\n  // eslint-disable-next-line react-native/no-unused-styles\n  right: {\n    right: 0,\n    bottom: 0,\n    top: 0,\n    position: 'absolute',\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  flexOne: {\n    flex: 1,\n  },\n});\n\nexport default Object.assign(withOrientation(Header), {\n  get HEIGHT() {\n    return APPBAR_HEIGHT + STATUSBAR_HEIGHT;\n  },\n});\n"]}